<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Sweet Seventeen Sahabatku</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            font-size: 16px;
            text-align: center;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(45deg, #d540b0, #f12df1, #ac1fd7, #9a2ed1);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            line-height: 1.5;
            padding: 10px;
            box-sizing: border-box;
        }

        #contentContainer {
            width: 100%;
            max-width: 100%;
            padding: 10px;
        }

        #nameInput, #mainContent {
            width: 100%;
            max-width: 100%;
            margin: 10px 0;
            padding: 10px;
        }

        #nameButtons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }

        #nameButtons button {
            width: 100%;
            margin-bottom: 0;
        }

        #mainContent img {
            width: 100%;
            max-width: 100px;
            height: auto;
            margin: 10px auto;
        }

        #candleContainer {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }

        .candle {
            margin: 5px;
        }

        #audioControls {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.9);
            padding: 5px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 1000;
        }

        #audioSelect, #playPauseButton, #volumeControl {
            width: 100%;
            margin-bottom: 10px;
            max-width: 300px;
        }
        @media (max-width: 480px) {
            body {
                font-size: 14px;
            }

            #mainContent h1 {
                font-size: 24px;
            }

            button {
                padding: 12px 16px;
                font-size: 16px;
            }

            #friendMessage textarea {
                height: 100px;
            }
        }
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        #contentContainer {
            position: relative;
            z-index: 10;
            width: 100%;
            height: 100%;
            overflow-y: auto;
        }
        #effectsContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }
        #particlesContainer, #fireworksContainer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #nameInput, #mainContent {
            width: 90%;
            max-width: 600px;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            margin: 20px auto;
        }
        #nameButtons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #FF69B4;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #FF1493;
        }
        #mainContent {
            display: none;
        }
        #mainContent h1 {
            font-family: 'Great Vibes', cursive;
            font-size: 36px;
            color: #FF1493;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        #mainContent img {
            width: 80%;
            max-width: 250px;
            border-radius: 15px;
            margin: 10px auto;
            display: block;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }
        #loveMessage textarea {
            width: 90%;
            height: 100px;
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
            border: 2px solid #FF69B4;
            margin-bottom: 10px;
        }
        .candle {
            width: 20px;
            height: 100px;
            background: linear-gradient(to bottom, #FFF6E8, #FFA500);
            border-radius: 10px 10px 0 0;
            position: relative;
            margin: 20px auto;
            cursor: pointer;
        }
        .flame {
            width: 15px;
            height: 30px;
            background: linear-gradient(to bottom, #FFD700, #FF4500);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: absolute;
            top: -20px;
            left: 2.5px;
            transform-origin: center bottom;
            animation: flicker 0.5s infinite alternate;
        }
        @keyframes flicker {
            0% { transform: scaleY(1); }
            100% { transform: scaleY(0.8); }
        }
        #candleContainer {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        .petal {
            position: fixed;
            width: 15px;
            height: 15px;
            background: pink;
            border-radius: 150% 0 150% 0;
            animation: fall 10s linear infinite;
            z-index: -1;
        }
        @keyframes fall {
            0% { transform: translateY(-5vh) rotate(0deg); }
            100% { transform: translateY(105vh) rotate(720deg); }
        }
        #musicStart {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 1);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        .firework {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            animation: explode 1s ease-out;
            opacity: 0;
        }
        @keyframes explode {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(30);
                opacity: 0;
            }
        }

        .particle {
            position: absolute;
            pointer-events: none;
            animation: float 5s infinite ease-in-out;
        }

        .heart {
            font-size: 20px;
        }

        .star {
            font-size: 15px;
            color: gold;
        }

        .butterfly {
            font-size: 18px;
        }

        .petal {
            width: 15px;
            height: 15px;
            background: pink;
            border-radius: 150% 0 150% 0;
            transform: rotate(45deg);
        }
        .popup {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            margin: 20px auto;
            max-width: 80%;
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 0.3s, transform 0.3s;
        }

        .popup.show {
            opacity: 1;
            transform: scale(1);
        }

        .popup button {
            margin-top: 10px;
        }
            @keyframes float {
                0%, 100% {
                    transform: translateY(0) rotate(0deg);
                }
                50% {
                    transform: translateY(-20px) rotate(180deg);
                }
            }
        #friendMessage {
            background-color: #f0f8ff; /* Light blue background */
            border: 2px solid #87cefa; /* Light sky blue border */
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        #friendMessage h3 {
            color: #4169e1; /* Royal blue color for the heading */
            font-size: 24px;
            margin-bottom: 15px;
            text-align: center;
        }

        #pengisi{
            height: 20vh;
        }

        #friendMessage textarea {
            width: 100%;
            height: 120px;
            padding: 12px;
            font-size: 16px;
            border: 1px solid #87cefa;
            border-radius: 8px;
            resize: vertical;
            margin-bottom: 15px;
            transition: border-color 0.3s ease;
        }

        #friendMessage textarea:focus {
            outline: none;
            border-color: #4169e1;
            box-shadow: 0 0 5px rgba(65, 105, 225, 0.5);
        }

        #friendMessage button {
            background-color: #4169e1;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: block;
            margin: 0 auto;
        }

        #friendMessage button:hover {
            background-color: #1e90ff; /* Dodger blue on hover */
        }

        #messageResult {
            margin-top: 15px;
            padding: 10px;
            background-color: #e6f3ff;
            border-radius: 8px;
            text-align: center;
            display: none;
        }

        #messageResult p {
            color: #4169e1;
            font-size: 16px;
            margin: 0;
        }
        button {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #FF69B4;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.1s;
        }

        button:hover {
            background-color: #FF1493;
            transform: scale(1.05);
        }

        button:active {
            transform: scale(0.95);
        }

        /* Style untuk audio controls */
        #audioControls {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        #audioSelect {
            padding: 8px;
            font-size: 14px;
            border-radius: 5px;
            border: 1px solid #ccc;
            margin-right: 10px;
        }

        #playPauseButton {
            background-color: #4CAF50;
            margin-right: 10px;
        }

        #playPauseButton:hover {
            background-color: #45a049;
        }

        #volumeControl {
            width: 100px;
            vertical-align: middle;
        }

        /* Style untuk popup */
        .popup {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            margin: 20px auto;
            max-width: 80%;
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 0.3s, transform 0.3s;
        }

        .popup.show {
            opacity: 1;
            transform: scale(1);
        }

        .popup button {
            margin-top: 10px;
        }

        /* Style untuk musik start */
        #musicStart {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.8);
        }

        #musicStart button {
            font-size: 24px;
            padding: 15px 30px;
            background-color: #FF69B4;
        }

        #musicStart button:hover {
            background-color: #FF1493;
        }

        /* Style untuk nama input */
        #nameInput h2 {
            color: #FF1493;
            margin-bottom: 20px;
        }

        #nameButtons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        #nameButtons button {
            flex: 0 0 calc(33.33% - 10px);
            max-width: calc(33.33% - 10px);
        }

        /* Style untuk candle container */
        #candleContainer {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }

        /* Style untuk make a wish button */
        #mainContent > button {
            display: block;
            margin: 20px auto;
            font-size: 18px;
            background-color: #FFD700;
            color: #333;
        }

        #mainContent > button:hover {
            background-color: #FFC400;
        }

        html, body {
            -webkit-overflow-scrolling: touch;
            overflow-x: hidden;
        }
    </style>
</head>
<body>
    <div id="musicStart">
        <button onclick="mulaiMusik()">Siap?</button>
    </div>

    <div id="effectsContainer">
        <div id="particlesContainer"></div>
        <div id="fireworksContainer"></div>
    </div>

    <div id="contentContainer">
        <div id="nameInput">
            <h2>Pilih nama yang kamu suka:</h2>
            <div id="nameButtons">
                <button onclick="pilihNama('K')">K</button>
                <button onclick="pilihNama('K')">K</button>
                <button onclick="pilihNama('K')">K</button>
                <button onclick="pilihNama('S')">S</button>
                <button onclick="pilihNama('F')">F</button>
                <button onclick="pilihNama('S')">S</button>
            </div>
            <button onclick="mulaiPerayaan()">Mulai!</button>
        </div>

        <div id="popupContainer"></div>

        <div id="mainContent">
            <h1>Happy Sweet Seventeen, <span id="friendNameDisplay"></span>!</h1>
            <p style="font-size: 24px;">🎉🎂✨</p>

            <div style="display: flex; justify-content: center; gap: 10px; width: 100%; height: auto;">
                <img src="AP1GczMFU6fUkX-Tl0E2qOLtiUw4glQctR8P5EK2Hb39hPwj5CXgFgXcBlH6k972FJL0hpOJaDnZ24tItoyft2M2jXfJlo0vgxgZutSNzs3LBS86oP8fw3XveVNpCVpBPm6RMgyXHh5JglEET_Wzqy0VZwJaog=w678-h905-s-no-gm?authuser=0" alt="Gambar 2" style="width: 100%; height: auto; border: 3px solid #000; border-radius: 8px;">
                <img src="AP1GczN2C4HLiYf-SaJo8j_lfVdFALw-U2fsob8uNG5TUGhbLoUNui1FwMl7okCglSfydC4fdWQysEQ4_NjZ0OSvYwmf8fNKJODIgu2v5oIcYraN0letKWLSGnabFABCpLltUb4bHkA_BFedEUz1fvRXYeCdjw=w679-h905-s-no-gm?authuser=0" alt="Gambar 3" style="width: 100%; height: auto; border: 3px solid #000; border-radius: 8px;">
            </div>

            <div id="candleContainer"></div>
            <button onclick="makeWish()">Make a Wish!</button>

            <div id="friendMessage">
                <h3>Tulis Pesanmu</h3>
                <textarea id="messageText" placeholder="Tuliskan balasan dan harapanmu di sini..."></textarea>
                <button onclick="kirimPesanSahabat()">Kirim Pesanmu</button>
                <div id="messageResult"></div>
            </div>
        </div>
        <div id="pengisi">
        </div>
    </div>
    <script>

        const pesan = [
            "Hai, [Nama] sahabatku yang keren!",
            "Selamat Sweet Seventeen, bestie!",
            "Kamu adalah sahabat terbaik yang bisa kuminta",
            "Semoga persahabatan kita abadi selamanya",
            "Aku bersyukur memilikimu sebagai sahabat!"
        ];
        let indeksPesanSekarang = 0;
        let audioElement;

        function initAudio() {
            audioElement = new Audio();
            audioElement.loop = true;
            
            const audioSelect = document.getElementById('audioSelect');
            const playPauseButton = document.getElementById('playPauseButton');
            const volumeControl = document.getElementById('volumeControl');

            audioSelect.addEventListener('change', function() {
                audioElement.src = this.value;
                audioElement.play();
                playPauseButton.textContent = 'Pause';
            });

            playPauseButton.addEventListener('click', toggleAudio);

            volumeControl.addEventListener('input', function() {
                setVolume(this.value);
            });

            // Inisialisasi dengan lagu pertama
            audioElement.src = audioSelect.value;
        }

        function toggleAudio() {
            const playPauseButton = document.getElementById('playPauseButton');
            if (audioElement.paused) {
                audioElement.play();
                playPauseButton.textContent = 'Pause';
            } else {
                audioElement.pause();
                playPauseButton.textContent = 'Play';
            }
        }

        function setVolume(volume) {
            audioElement.volume = volume;
        }

        function mulaiMusik() {
            audioElement.play();
            document.getElementById('musicStart').style.display = 'none';
        }

        // Panggil initAudio saat halaman dimuat
        window.addEventListener('load', initAudio);

        function mulaiPerayaan() {
            const nama = document.getElementById('friendNameDisplay').textContent;
            if (!nama) {
                alert('Pilih namamu!');
                return;
            }
            document.getElementById('nameInput').style.display = 'none';
            
            // Mulai musik jika belum dimulai
            if (audioElement.paused) {
                audioElement.play();
                document.getElementById('playPauseButton').textContent = 'Pause';
            }
            
            tampilkanPesanBerikutnya();
            buatPartikel();
            buatKembangApi();
        }

        function tampilkanPesanBerikutnya() {
            const containerPesan = document.getElementById('popupContainer');
            if (indeksPesanSekarang < pesan.length) {
                containerPesan.innerHTML = '';
                const popup = document.createElement('div');
                popup.className = 'popup';
                popup.innerHTML = pesan[indeksPesanSekarang].replace('[Nama]', document.getElementById('friendNameDisplay').textContent);
                popup.innerHTML += '<br><button onclick="tampilkanPesanBerikutnya()">Lanjut</button>';
                containerPesan.appendChild(popup);
                
                setTimeout(() => {
                    popup.classList.add('show');
                }, 10);

                indeksPesanSekarang++;
            } else {
                containerPesan.innerHTML = '';
                tampilkanKontenUtama();
            }
        }

        function tampilkanKontenUtama() {
            const kontenUtama = document.getElementById('mainContent');
            kontenUtama.style.display = 'block';
            addVirtualCandles();
        }

        function buatPartikel() {
    const particles = ['❤', '⭐', '🦋', 'petal'];
    const container = document.getElementById('particlesContainer');
    
    function animate() {
        if (Math.random() < 0.07) {  // Mengurangi frekuensi pembuatan partikel
            const particle = document.createElement('div');
            const type = particles[Math.floor(Math.random() * particles.length)];
            
            particle.className = `particle ${type === 'petal' ? 'petal' : ''}`;
            if (type !== 'petal') {
                particle.innerHTML = type;
                particle.classList.add(type === '❤' ? 'balloon' : type === '⭐' ? 'star' : 'butterfly');
            }

            particle.style.left = `${Math.random() * 100}vw`;
            particle.style.top = `${Math.random() * 100}vh`;
            
            container.appendChild(particle);
            setTimeout(() => particle.remove(), 10000);
        }
        
        requestAnimationFrame(animate);
    }
    
    animate();
}

function buatKembangApi() {
    const container = document.getElementById('fireworksContainer');
    
    function animate() {
        if (Math.random() < 0.05) {  // Mengurangi frekuensi pembuatan kembang api
            const kembangApi = document.createElement('div');
            kembangApi.className = 'firework';
            kembangApi.style.left = Math.random() * 100 + 'vw';
            kembangApi.style.top = Math.random() * 100 + 'vh';
            kembangApi.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
            container.appendChild(kembangApi);
            setTimeout(() => kembangApi.remove(), 1000);
        }
        
        requestAnimationFrame(animate);
    }
    
    animate();
}

        function kirimPesanSahabat() {
            const tekspesan = document.getElementById('messageText').value;
            const nomorTelepon = "+6289515583710";
            
            const pesanTerenkode = encodeURIComponent(tekspesan);
            const urlWhatsApp = `https://api.whatsapp.com/send?phone=${nomorTelepon}&text=${pesanTerenkode}`;
            
            window.open(urlWhatsApp, '_blank');
            
            const hasilPesan = document.getElementById('messageResult');
            hasilPesan.innerHTML = `<p>Pesanmu telah dikirim ke WhatsApp. Klik kirim di aplikasi untuk mengirimnya.</p>`;
            hasilPesan.style.display = 'block';
        }

        function pilihNama(nama) {
            document.getElementById('friendNameDisplay').textContent = nama;
            const tombol = document.querySelectorAll('#nameButtons button');
            tombol.forEach(tombol => {
                tombol.style.backgroundColor = tombol.textContent === nama ? '#FF1493' : '#FF69B4';
            });
        }

        function toggleFlame(candle) {
            const flame = candle.querySelector('.flame');
            flame.style.display = flame.style.display === 'none' ? 'block' : 'none';
        }

        function makeWish() {
            const candles = document.querySelectorAll('.candle .flame');
            candles.forEach(flame => flame.style.display = 'none');
            alert("Dengan ini lilin akan padam, sebelum itu berdoa dan buat permohonan!");
            startPetalRain();
        }

        function startPetalRain() {
            const petalContainer = document.getElementById('particlesContainer');
            for (let i = 0; i < 30; i++) {
                createPetal(petalContainer);
            }
        }

        function createPetal(container) {
            const petal = document.createElement('div');
            petal.className = 'petal';
            petal.style.left = `${Math.random() * 100}vw`;
            petal.style.animationDelay = `${Math.random() * 10}s`;
            container.appendChild(petal);
            setTimeout(() => petal.remove(), 30000);
        }

        function addVirtualCandles() {
            const candleContainer = document.getElementById('candleContainer');
            for (let i = 0; i < 3; i++) {
                const candle = document.createElement('div');
                candle.className = 'candle';
                candle.innerHTML = '<div class="flame"></div>';
                candle.onclick = function() { toggleFlame(this); };
                candleContainer.appendChild(candle);
            }
        }


    </script>
    <div id="audioControls">
        <select id="audioSelect">
            <option value="https://raw.githubusercontent.com/Haigry/Haigry.github.io/main/Romantic%20Birthday%20Song%20for%20Lovers%20No.%202%20in%20A%20Major.mp3">Lagu 1</option>
            <option value="URL_LAGU_2">Lagu 2</option>
            <option value="URL_LAGU_3">Lagu 3</option>
        </select>
        <button id="playPauseButton">Play/Pause</button>
        <input type="range" id="volumeControl" min="0" max="1" step="0.1" value="1">
    </div>
</body>
</html>
